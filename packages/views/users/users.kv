<Users>:
	orientation: 'vertical'
	padding: dp(12)
	BoxLayout:
		size_hint_y: None
		height: dp(54)
		BoxLayout:
		BackBox:
			radius: [self.height*.45]
			padding: [dp(12),0]
			bcolor: app.color_primary
			size_hint_x: .1
			RelativeLayout:
				AnchorLayout:
					anchor_x: "right"
					Text: 
						text: icon("icon-plus")
						color: [1,1,1,1]
						halign: "right"
						size_hint_x: None
						width: self.height
				AnchorLayout:
					anchor_x: "left"
					RoundedButton:
						text: "add New"
						bcolor: app.color_primary 
						radius: [self.height*.4]
						on_release: root.add_new()
						halign: "left"
						color: [1,1,1,1]
						font_size: self.width* .21
						size_hint_x: .8

	BoxLayout:
		id: bx_table
		orientation: "vertical"
		padding: [0, dp(16),0,0]
		BackBox:
			size_hint_y: None
			height: dp(42)
			bcolor: app.color_primary_bg
			spacing: dp(12)
			padding: [dp(12), 0]
			Text:
				text: "First Name"
				color: app.color_primary_text
				font_size: app.fonts.size.h3
				size_hint_x: .15

			Text:
				text: "Last Name"
				color: app.color_primary_text
				font_size: app.fonts.size.h3
				size_hint_x: .15

			Text:
				text: "Username"
				color: app.color_primary_text
				font_size: app.fonts.size.h3
				size_hint_x: .15

			Text:
				text: "Password[size=14](encrypted)[/size]"
				color: app.color_primary_text
				font_size: app.fonts.size.h3
				size_hint_x: .25

			Text:
				text: "Role"
				color: app.color_primary_text
				font_size: app.fonts.size.h3
				size_hint_x: .15

			Text:
				text: "Email"
				color: app.color_primary_text
				font_size: app.fonts.size.h3
				size_hint_x: .15

			Text:
				text: "Last_Login"
				color: app.color_primary_text
				font_size: app.fonts.size.h3
				size_hint_x: .15
			Text:
				text: "Created_At"
				color: app.color_primary_text
				font_size: app.fonts.size.h3
				size_hint_x: .15
				
			BoxLayout:
				size_hint_x: None
				width: self.height
		BoxLayout:
			ScrollView:
				do_scroll: [False, True]
				size_hint_y: None
				height: self.parent.height
				GridLayout:
					id: g1_users
					cols: 1
					spacing: dp(8)
					size_hint_y: None
					halign: self.minimum_height



<UserTile>:
	size_hint_y: None
	height: dp(42)
	#bcolor: app.color_secondary_bg
	spacing: dp(12)
	padding: [dp(12), 0]
	canvas.before:
		Color:
			rgba: app.color_tertiary
		Rectangle:
			pos: self.pos
			size: [self.size[0], dp(1)]
	Text:
		text: root.firstName
		font_name: app.fonts.body
		color: app.color_primary_text
		font_size:app.fonts.size.h3
		size_hint_x: .15

	Text:
		text: root.lastName
		font_name: app.fonts.body
		color: app.color_primary_text
		font_size:app.fonts.size.h3
		size_hint_x: .15
	Text:
		text: root.username
		font_name: app.fonts.body
		color: app.color_primary_text
		font_size:app.fonts.size.h3
		size_hint_x: .15
	Text:
		text: root.password
		font_name: app.fonts.body
		color: app.color_primary_text
		font_size:app.fonts.size.h3
		size_hint_x: .25
	Text:
		text: root.roles
		font_name: app.fonts.body
		color: app.color_primary_text
		font_size:app.fonts.size.h3
		size_hint_x: .15
	Text:
		text: root.email
		font_name: app.fonts.body
		color: app.color_primary_text
		font_size:app.fonts.size.h3
		size_hint_x: .15
	Text:
		text: root.signedIn
		font_name: app.fonts.body
		color: app.color_primary_text
		font_size:app.fonts.size.h3
		size_hint_x: .15
	Text:
		text: root.createdAt
		font_name: app.fonts.body
		color: app.color_primary_text
		font_size:app.fonts.size.h3
		size_hint_x: .15
		
	FlatButton:
		text: icon('icon-trash')
		size_hint_x: None
		width: self.height
		color: app.color_tertiary
		on_release: root.delete_user()


<ModUser>:
	background:""
	background_color: [0,0,0,.1]
	AnchorLayout:
		anchor_x: "right"
		BackBox:
			orientation:'vertical'
			spacing: dp(12)
			bcolor: app.color_primary_bg
			size_hint_x: .3
			AnchorLayout:
				anchor_x: "left"
				size_hint_y:None
				height: dp(42)
				FlatButton:
					text: icon("icon-x")
					size_hint_x: None
					color: app.color_tertiary
					font_size: app.fonts.size.h1
					width: self.height
					on_release: 
						root.dismiss()
			BoxLayout:
				orientation: "vertical"
				spacing: dp(12)
				size_hint_y: .3
				Text:
					id: title
					text: "Add User"
					font_name: app.fonts.styled
					font_size: app.fonts.size.extra
					color: app.color_primary_text
					halign: 'center'
					valign: 'bottom'
				AnchorLayout:
					anchor_y: "top"
					Label:
						id: subtitle
						text: 'Enter your new user Details to sign up'
						text_size: [self.parent.width, None]
						font_name: app.fonts.subheading
						font_size: app.fonts.size.h3
						size: self.texture_size
						color: app.color_tertiary
						halign: 'center'
						valign: 'top'
						size_hint_y: None
				
			
			AnchorLayout:
				size_hint_y: .8	
				BoxLayout:
					orientation: 'vertical'
					spacing: dp(24)
					padding: [dp(12), dp(12), dp(12), dp(24)]
					BackBox:
						size_hint_y: None
						height: dp(64)
						bcolor: app.color_secondary_bg
						radius: [self.height*.1]
						padding: [dp(12), dp(2)]
						FlatField:
							id: firstName_input
							hint_text: "First Name"
							hint_text_color: app.color_primary_text
							font_size: app.fonts.size.h2
							multiline: False
					BackBox:
						size_hint_y: None
						height: dp(64)
						bcolor: app.color_secondary_bg
						radius: [self.height*.1]
						padding: [dp(12), dp(2)]
						FlatField:
							id: lastName_input
							hint_text: "Last Name"
							hint_text_color: app.color_primary_text
							font_size: app.fonts.size.h2
							multiline: False
					BackBox:
						size_hint_y: None
						height: dp(64)
						bcolor: app.color_secondary_bg
						radius: [self.height*.1]
						padding: [dp(12), dp(2)]
						FlatField:
							id: email_input
							hint_text: "Email"
							hint_text_color: app.color_primary_text
							font_size: app.fonts.size.h2
							multiline: False
					BackBox:
						size_hint_y: None
						height: dp(64)
						bcolor: app.color_secondary_bg
						radius: [self.height*.1]
						padding: [dp(12), dp(2)]
						FlatField:
							id: username_input
							hint_text: "Username"
							hint_text_color: app.color_primary_text
							font_size: app.fonts.size.h2
							multiline: False

					BackBox:
						size_hint_y: None
						height: dp(64)
						bcolor: app.color_secondary_bg
						radius: [self.height*.1]
						padding: [dp(12), dp(2)]
						FlatField:
							id: password_input
							hint_text: "Password"
							hint_text_color: app.color_primary_text
							font_size: app.fonts.size.h2
							multiline: False
							password: True
					BackBox:
						size_hint_y: None
						height: dp(64)
						bcolor: app.color_secondary_bg
						radius: [self.height*.1]
						padding: [dp(12), dp(2)]
						Spinner:
							id: role_input
							text:"Role"
							font_name: app.fonts.styled
							color: app.color_primary_text
							font_size: app.fonts.size.h2
							#text_size: self.size
							halign: "center"
							valign: "middle"
							values: ['Admin', 'Cashier', "User"]
							background_normal: ""
							background_down: ""
							background_color: [0,0,0,0]
					Widget:
					BackBox:
						size_hint_y: None
						height: dp(64)
						RoundedButton:
							id: btn_confirm
							text: "Add"
							#hint_text_color: app.color_primary_text
							font_name: app.fonts.heading
							font_size: app.fonts.size.h1
							bcolor: app.color_primary
							radius: [self.height*.1]
							on_release: 
								root.callback(root)
								root.dismiss()


